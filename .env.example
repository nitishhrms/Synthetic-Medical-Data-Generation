# Environment Configuration Example
# Copy this file to .env and update with your values

# ========== ENVIRONMENT ==========
ENVIRONMENT=development
# Options: development, staging, production

# ========== DATABASE (PostgreSQL) ==========
# Local Development (Docker Compose)
DATABASE_URL=postgresql://clinical_user:clinical_pass@localhost:5432/clinical_trials

# AWS RDS Production (update after terraform apply)
# DATABASE_URL=postgresql://clinical_user:PASSWORD@your-rds-endpoint.rds.amazonaws.com:5432/clinical_trials

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=clinical_trials
POSTGRES_USER=clinical_user
POSTGRES_PASSWORD=clinical_pass

# ========== CACHE (Redis) ==========
# Local Development
REDIS_HOST=localhost
REDIS_PORT=6379

# AWS ElastiCache Production (update after terraform apply)
# REDIS_HOST=your-redis-endpoint.cache.amazonaws.com
# REDIS_PORT=6379

# ========== SECURITY ==========
# JWT Secret (CHANGE IN PRODUCTION!)
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-use-openssl-rand-base64-32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Encryption key for PHI (CHANGE IN PRODUCTION!)
ENCRYPTION_KEY=your-encryption-key-for-phi-data-32-bytes-minimum

# ========== CORS ==========
# Development: Allow all
ALLOWED_ORIGINS=*

# Production: Specific domains only
# ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ========== AWS ==========
AWS_REGION=us-east-1
S3_BUCKET=clinical-trials-documents-xxxxx  # Set after terraform apply

# ========== API KEYS ==========
# OpenAI (for LLM data generation - optional)
OPENAI_API_KEY=

# ========== SERVICE URLS (for local development) ==========
SECURITY_SERVICE_URL=http://localhost:8005
EDC_SERVICE_URL=http://localhost:8001
GENERATION_SERVICE_URL=http://localhost:8002
ANALYTICS_SERVICE_URL=http://localhost:8003
QUALITY_SERVICE_URL=http://localhost:8004

# ========== DOCKER COMPOSE OVERRIDES ==========
# Use these for docker-compose

# Service URLs for containers
# SECURITY_SERVICE_URL=http://security-service:8005
# EDC_SERVICE_URL=http://edc-service:8001
# GENERATION_SERVICE_URL=http://data-generation-service:8002
# ANALYTICS_SERVICE_URL=http://analytics-service:8003
# QUALITY_SERVICE_URL=http://quality-service:8004

# Database for containers
# DATABASE_URL=postgresql://clinical_user:clinical_pass@postgres:5432/clinical_trials
# REDIS_HOST=redis

# ========== MONITORING & LOGGING ==========
LOG_LEVEL=INFO
# Options: DEBUG, INFO, WARNING, ERROR

# ========== RATE LIMITING ==========
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ========== SESSION ==========
SESSION_TIMEOUT=3600

# ========== NOTES ==========
# 1. Never commit .env files to git
# 2. Use AWS Secrets Manager for production secrets
# 3. Rotate keys regularly
# 4. Use strong passwords (min 16 characters)
# 5. Enable MFA on AWS account
