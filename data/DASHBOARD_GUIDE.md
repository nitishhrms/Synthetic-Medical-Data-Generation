# Analytics Dashboard Guide

## Overview

Two comprehensive analytics dashboards are available to compare real CDISC clinical trial data with synthetic data generated by MVN and Bootstrap methods.

---

## Option 1: Jupyter Notebook Dashboard (Static Analysis)

### Features
- ðŸ“Š 13 comprehensive analysis sections
- ðŸ“ˆ Static visualizations with Plotly
- ðŸ“ Narrative explanations
- ðŸ’¾ Export results to CSV

### Running the Notebook

```bash
cd /Users/himanshu_jain/272/Synthetic-Medical-Data-Generation/data

# Install Jupyter if needed
pip3 install jupyter plotly scipy seaborn

# Launch Jupyter
jupyter notebook analytics_dashboard.ipynb
```

Then:
1. Click "Run All" or run cells sequentially
2. View all visualizations inline
3. Results are exported to CSV files automatically

### What You'll See

1. **Data Loading** - Loads real CDISC data and generates synthetic data
2. **Summary Statistics** - Comprehensive comparison table
3. **Distribution Comparisons** - Histograms for all vital signs
4. **Box Plots** - Distribution visualization
5. **Temporal Progression** - How vitals change across visits
6. **Treatment Effect Analysis** - Week 12 treatment effects
7. **Correlation Matrices** - Relationships between vitals
8. **Statistical Tests** - Kolmogorov-Smirnov tests
9. **Q-Q Plots** - Normality assessment
10. **Scatter Plots** - SBP vs DBP correlations
11. **Data Quality Metrics** - Validation percentages
12. **Summary Report** - Key findings and conclusions
13. **Export Results** - Save to CSV

### Exported Files
- `dashboard_summary_statistics.csv`
- `dashboard_quality_metrics.csv`
- `dashboard_ks_tests.csv`

---

## Option 2: Streamlit Dashboard (Interactive Web App)

### Features
- ðŸŒ Interactive web interface
- ðŸ”„ Real-time filtering and updates
- ðŸ“Š 6 interactive tabs
- ðŸŽ›ï¸ Dynamic controls and selections

### Installation

```bash
# Install Streamlit and dependencies
pip3 install streamlit plotly scipy pandas numpy
```

### Running the Dashboard

```bash
cd /Users/himanshu_jain/272/Synthetic-Medical-Data-Generation/data

# Launch Streamlit dashboard
streamlit run streamlit_dashboard.py
```

The dashboard will open automatically in your browser at `http://localhost:8501`

### Dashboard Tabs

#### Tab 1: ðŸ“ˆ Overview
- Summary statistics for all datasets
- Record counts and subject counts
- Sample data preview
- Quick metrics cards

#### Tab 2: ðŸ“Š Distributions
- **Interactive selections:**
  - Choose vital sign (SBP, DBP, HR, Temperature)
  - Toggle between datasets
- **Visualizations:**
  - Histograms with overlays
  - Box plots
  - Violin plots

#### Tab 3: ðŸ”„ Temporal Analysis
- Vital sign progression across visits
- Active vs Placebo comparison
- Line charts with markers
- Real-time vital sign selection

#### Tab 4: ðŸ’Š Treatment Effects
- Week 12 treatment effect bar chart
- Target vs actual comparison
- Effect size tables
- Error analysis

#### Tab 5: ðŸ”— Correlations
- Correlation heatmaps for each dataset
- Scatter plots (SBP vs DBP)
- Trend lines with correlation coefficients
- Interactive hover details

#### Tab 6: âœ… Quality Metrics
- Data quality percentages
- Valid range compliance
- Kolmogorov-Smirnov statistical tests
- p-value interpretations

### Interactive Controls (Sidebar)

1. **Select Data Sources**
   - â˜‘ï¸ Real CDISC Data
   - â˜‘ï¸ MVN Synthetic
   - â˜‘ï¸ Bootstrap Synthetic

2. **Select Visit**
   - All
   - Screening
   - Day 1
   - Week 4
   - Week 12

3. **Select Treatment Arm**
   - All
   - Active
   - Placebo

All visualizations update instantly based on your selections!

---

## Comparison: Notebook vs Streamlit

| Feature | Jupyter Notebook | Streamlit Dashboard |
|---------|------------------|---------------------|
| **Interface** | Static cells | Interactive web app |
| **Ease of Use** | Run all cells | Click and explore |
| **Interactivity** | Limited | Full dynamic filtering |
| **Export** | CSV files | Screenshots/print |
| **Customization** | Edit code directly | Sidebar controls |
| **Best For** | Deep analysis, reports | Exploration, demos |
| **Sharing** | Share .ipynb file | Share web URL |

---

## Key Visualizations

### 1. Distribution Comparisons
**Shows:** How well synthetic data matches real data distributions
- Overlapping histograms
- Box plots for outlier detection
- Violin plots for distribution shapes

### 2. Temporal Progression
**Shows:** How vital signs change across study visits
- Solid lines = Active treatment
- Dashed lines = Placebo treatment
- Different colors = Different data sources

### 3. Treatment Effect Analysis
**Shows:** Effectiveness of synthetic data generation
- Target: -5.0 mmHg reduction in SBP
- Red dashed line shows target
- Bars show actual effects

### 4. Correlation Matrices
**Shows:** Relationships between vital signs
- Blue = Positive correlation
- Red = Negative correlation
- Darker colors = Stronger correlations

### 5. Statistical Tests
**Shows:** Scientific validation of synthetic data quality
- KS test p-value > 0.05 = Good match
- Lower KS statistic = Better match

---

## Interpreting Results

### Good Synthetic Data Should Show:

âœ… **Similar Distributions**
- Histograms overlap closely
- Similar means and standard deviations
- Box plots have similar IQRs

âœ… **Preserved Correlations**
- SBP vs DBP correlation matches real data
- Heatmaps show similar patterns

âœ… **Accurate Treatment Effects**
- Week 12 effect close to -5.0 mmHg
- Both arms show realistic progression

âœ… **High Quality Metrics**
- 100% values in valid ranges
- Complete visit sequences
- No missing values

âœ… **Statistical Validation**
- KS test p-values > 0.05
- Q-Q plots follow normal line

---

## Troubleshooting

### Jupyter Notebook Issues

**Problem:** Kernel not starting
```bash
pip3 install --upgrade jupyter ipykernel
python3 -m ipykernel install --user
```

**Problem:** Plots not showing
```bash
pip3 install --upgrade plotly
```

### Streamlit Dashboard Issues

**Problem:** Module not found
```bash
pip3 install streamlit plotly scipy pandas numpy
```

**Problem:** Port already in use
```bash
streamlit run streamlit_dashboard.py --server.port 8502
```

**Problem:** Data loading error
```bash
# Make sure you're in the data directory
cd /Users/himanshu_jain/272/Synthetic-Medical-Data-Generation/data
python3 quick_test.py  # Verify generators work first
```

---

## Screenshots & Examples

### Example Insights You'll Discover

1. **MVN Generator**
   - Learns exact means and covariances from real data
   - Best for: Maintaining statistical properties
   - Treatment effect accuracy: Â±0.5 mmHg

2. **Bootstrap Generator**
   - Resamples from real data with jitter
   - Best for: Maximum realism
   - Preserves outliers and edge cases

3. **Real vs Synthetic**
   - Real data: More variability
   - Synthetic data: Smoother distributions
   - Both: Clinical validity maintained

---

## Advanced Usage

### Customize Jupyter Notebook

Edit cells to:
- Change number of synthetic subjects generated
- Modify target treatment effects
- Add new visualizations
- Export different metrics

Example:
```python
# Generate more synthetic data
mvn_data = generate_vitals_mvn(n_per_arm=100, seed=456)
```

### Customize Streamlit Dashboard

Edit `streamlit_dashboard.py` to:
- Add new tabs
- Create custom visualizations
- Modify color schemes
- Add additional metrics

Example:
```python
# Add a new metric
st.metric("Custom Metric", calculate_custom_metric(data))
```

---

## Quick Start Commands

### Option 1: Jupyter Notebook (5 minutes)
```bash
cd /Users/himanshu_jain/272/Synthetic-Medical-Data-Generation/data
jupyter notebook analytics_dashboard.ipynb
# Click "Cell" â†’ "Run All"
```

### Option 2: Streamlit Dashboard (Interactive)
```bash
cd /Users/himanshu_jain/272/Synthetic-Medical-Data-Generation/data
streamlit run streamlit_dashboard.py
# Dashboard opens in browser automatically
```

---

## Next Steps

1. **Explore the dashboards** - Understand current data quality
2. **Tune generators** - Adjust parameters based on insights
3. **Generate reports** - Export findings for stakeholders
4. **Iterate** - Improve synthetic data quality

---

## Support

For issues or questions:
- Check generator tests: `python3 quick_test.py`
- Verify data: `python3 verify_generators.py`
- Review documentation: `REAL_DATA_INTEGRATION.md`

---

**Last Updated:** November 12, 2025
**Status:** âœ… Both dashboards fully functional
